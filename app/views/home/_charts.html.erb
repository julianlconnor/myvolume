<%= will_paginate @charts, :prev_label => 'Previous', :next_label => 'Next' %>
<div id="chart_row_one">
<% for i in 0 ... @charts.size/2 %>
<header>
	<h1 id="<%= @charts[i].id %>" style="background-image: url(<%= @charts[i].chart_thumbnail.large %>); background-repeat: no-repeat; background-position: 0 50%;">
		<div><%= @charts[i].name %></div>
		<div><em><%= @charts[i].publish_date.to_date.to_formatted_s(:long_ordinal) %></em></div>
		<div class="tags">
			<% @charts[i].genres.each do |genre| %>
				<span><%= genre.name %></span>
			<% end %>
		</div>
	</h1> 
</header>
<ul class="<%= @charts[i].id %>" style="display:none;">
	<% @charts[i].songs.each_with_index do |song,i| %>
		<% if !song.song_thumbnail.nil? %>
			<li style="background-image: url(<%= song.song_thumbnail.medium %>); background-repeat: no-repeat; background-position: 4% 50%;">
		<% else %>
			<li>
		<% end %>
		<div class="track_detail">
			<div class="track_info">
				<div>
					<% track_title = "#{song.name} (#{song.mix_name})"%>
					<a href="#" data-src="<%= song.sample_url %>"><%= truncate(track_title, :length => 32) %></a>
				</div>
				<div class="track_artist"><%= "#{truncate(song.artist, :length => 32)}"%></div>
				<div class="tags">
					<% song.genres.order("name asc").each do |genre| %>
						<span><%= genre.name %></span>
					<% end %>
				</div>
			</div>
			<div class="track_icons">
				<div class="download">
					<%= link_to image_tag("dl_icon.png"), "http://www.google.com/search?q=#{song.name.gsub('&','').gsub(' ','+')}+#{song.mix_name.gsub('&','').gsub(' ','+')}+#{song.artist.gsub('&','').gsub(' ','+')}+site:zippyshare.com+OR+site:mediafire.com", :target => "_blank" %>
				</div>
				<div class="queue_button">
					<%= image_tag("add_icon.png") %>
				</div>
				<div class="play_button">
					<%= image_tag("player_play.png") %>
				</div>
			</div>
		</div>
		</li> 
	<% end %>
</ul>
<% end %>
</div>
<div id="chart_row_two">
<% for i in @charts.size/2 ... @charts.size %>
<header>
	<h1 id="<%= @charts[i].id %>" style="background-image: url(<%= @charts[i].chart_thumbnail.large %>); background-repeat: no-repeat; background-position: 0 50%;">
		<div><%= @charts[i].name %></div>
		<div><em><%= @charts[i].publish_date.to_date.to_formatted_s(:long_ordinal) %></em></div>
		<div class="tags">
			<% @charts[i].genres.each do |genre| %>
				<span><%= genre.name %></span>
			<% end %>
		</div>
	</h1> 
</header>
<ul class="<%= @charts[i].id %>" style="display:none;">
	<% @charts[i].songs.each_with_index do |song,i| %>
		<% if !song.song_thumbnail.nil? %>
			<li style="background-image: url(<%= song.song_thumbnail.medium %>); background-repeat: no-repeat; background-position: 4% 50%;">
		<% else %>
			<li>
		<% end %>
		<div class="track_detail">
			<div class="track_info">
				<div>
					<% track_title = "#{song.name} (#{song.mix_name})"%>
					<a href="#" data-src="<%= song.sample_url %>"><%= truncate(track_title, :length => 32) %></a>
				</div>
				<div class="track_artist"><%= "#{truncate(song.artist, :length => 32)}"%></div>
				<div class="tags">
					<% song.genres.order("name asc").each do |genre| %>
						<span><%= genre.name %></span>
					<% end %>
				</div>
			</div>
			<div class="track_icons">
				<div class="download">
					<%= link_to image_tag("dl_icon.png"), "http://www.google.com/search?q=#{song.name.gsub('&','').gsub(' ','+')}+#{song.mix_name.gsub('&','').gsub(' ','+')}+#{song.artist.gsub('&','').gsub(' ','+')}+site:zippyshare.com+OR+site:mediafire.com", :target => "_blank" %>
				</div>
				<div class="queue_button">
					<%= image_tag("add_icon.png") %>
				</div>
				<div class="play_button">
					<%= image_tag("player_play.png") %>
				</div>
			</div>
		</div>
		</li> 
	<% end %>
</ul>
<% end %>
</div>
<%= will_paginate @charts, :class => "pagination bottom", :prev_label => 'Previous', :next_label => 'Next' %>
